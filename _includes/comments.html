{% if site.Valine %}

<script src="https://hayasaoss.oss-accelerate.aliyuncs.com/npm/@waline/client@v2/dist/waline.js"></script>
<link
    rel="stylesheet"
    href="https://hayasaoss.oss-accelerate.aliyuncs.com/npm/@waline/client@v2/dist/waline.css"
  />
<div id="waline"></div>
<script>
    Waline.init({
        el: '#waline',
        serverURL: '{{site.serverURL}}',
        locale: {
            anonymous: '{{site.anonymous}}',
            placeholder: '{{site.placeholder}}'
        },
        // uploadImage: function (file) {
        //     var img_url = "{{site.img_url}}";
        //     var img_name = "{{site.img_name}}";
        //     const formData = new FormData();
        //     formData.append(img_name, file);
        //     const token = "{{site.img_token}}";
        //     return fetch(img_url, {
        //         method: 'POST',
        //         body: formData,
        //         headers: { "Authorization": token }
        //     }).then(resp => resp.json()).then(resp => resp.data.url);
        // },
        emoji: [
            'https://hayasaoss.oss-accelerate.aliyuncs.com/gh/Small-tailqwq/WaLine-emoji@1.1.1/蛆音娘/',
            'https://hayasaoss.oss-accelerate.aliyuncs.com/gh/Small-tailqwq/WaLine-emoji@1.1.1/AC娘/',
            'https://hayasaoss.oss-accelerate.aliyuncs.com/gh/Small-tailqwq/WaLine-emoji@1.1.1/佐贺AC娘/',
            'https://hayasaoss.oss-accelerate.aliyuncs.com/gh/Small-tailqwq/WaLine-emoji@1.1.1/哥布林/',
            'https://hayasaoss.oss-accelerate.aliyuncs.com/gh/Small-tailqwq/WaLine-emoji@1.1.1/魔改娘/',
            'https://hayasaoss.oss-accelerate.aliyuncs.com/gh/Small-tailqwq/WaLine-emoji@1.1.1/彩娘/',
            'https://hayasaoss.oss-accelerate.aliyuncs.com/gh/Small-tailqwq/WaLine-emoji@1.1.1/少前小剧场/',
            // 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/weibo',
            // 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili',
        ],
    });
</script>
<style>
    .wl-content .vemoji, .wl-content .wl-emoji {
        height: 2.5em !important;
    }

    .wl-emoji-popup .wl-emoji {
        max-width: 2em !important;
        max-height: 3.5em !important;
    }
</style>

{% endif %}
